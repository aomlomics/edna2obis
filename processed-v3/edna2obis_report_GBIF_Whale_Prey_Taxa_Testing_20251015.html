
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>edna2obis Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f8f9fa; }
        .container { max-width: 1200px; margin: 0 auto; background-color: white; padding: 40px; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); border: 1px solid #e9ecef; }
        .status { padding: 20px; margin-bottom: 20px; border-radius: 5px; text-align: center; font-size: 24px; font-weight: bold; color: white; background-color: #28a745; }
        .alert { padding: 15px; margin: 10px 0; border-radius: 4px; }
        .alert-success { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .alert-warning { background-color: #fff3cd; border-color: #ffeaa7; color: #856404; }
        .alert-danger { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }
        .table-container { overflow-x: auto; margin: 10px 0; max-width: 100%; border: 1px solid #ddd; border-radius: 4px; }
        .table-container::-webkit-scrollbar { height: 8px; }
        .table-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .table-container::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        .table-container::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
        .table { width: 100%; border-collapse: collapse; margin: 0; min-width: 600px; }
        .table th, .table td { padding: 8px 12px; text-align: left; border: 1px solid #ddd; white-space: nowrap; }
        .table-striped tr:nth-child(even) { background-color: #f2f2f2; }
        .table th { background-color: #e9ecef; font-weight: bold; }
        .metadata { background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        h1 { color: #212529; font-size: 2.5rem; font-weight: 700; text-align: center; margin: 30px 0 20px 0; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        h2, h3, h4 { color: #343a40; }
        pre { background-color: #f8f9fa; padding: 10px; border-radius: 4px; overflow-x: auto; }
        .header-section { text-align: center; margin: 30px 0 50px 0; }
        .logo-bar { display: flex; justify-content: center; align-items: center; gap: 40px; margin: 25px 0; opacity: 0.8; }
        .logo-bar img { height: 60px; object-fit: contain; }
        .run-name-display { margin: 10px 0; }
        .run-name-display h2 { margin: 0; font-size: 1.5rem; font-weight: 600; color: #343a40; }
        .warnings-top { margin: 20px 0 30px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="status">SUCCESS</div><div style="text-align:center;margin:10px 0;"><div class="alert alert-warning" style="display:inline-block;width:auto;padding:12px 24px;font-size:20px;font-weight:bold;">with WARNINGS (13)</div></div>
        
        <div class="header-section">
            <h1>edna2obis Processing Report</h1>
            <div class="logo-bar">
                <img src="../images/aoml_logo.png" alt="AOML">
                <img src="../images/noaa_omics_logo.png" alt="NOAA Omics">
                <img src="../images/obis_logo.png" alt="OBIS">
                <img src="../images/gbif_logo.png" alt="GBIF">
            </div>
        </div>
        
        <div class="metadata">
            <h3>Run Information</h3>
            <div class="run-name-display"><h2>Run name: Whale_Prey_Taxa_Testing_20251015</h2></div>
            <p><strong>Start Time:</strong> 2025-10-17 17:02:35</p>
            <p><strong>End Time:</strong> 2025-10-17 17:02:38</p>
            <p><strong>Duration:</strong> 0:00:02</p>
            <p><strong>Report File:</strong> processed-v3/edna2obis_report_GBIF_Whale_Prey_Taxa_Testing_20251015.html</p>
        </div>

        <div class="warnings-top">
            <h3>Warnings</h3>
            <div class="alert alert-warning"><strong>WARNING:</strong> Could not construct 'locationID' from config. The following columns were not found: line_id, station_id. Falling back to default.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> Could not construct 'locationID' from config. The following columns were not found: line_id, station_id. Falling back to default.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> The 'geodeticDatum' column was empty or missing. It has been filled with the default value 'WGS84'. Please verify this is appropriate for your data.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> The 'locationID' column is empty. This is likely because the 'line_id' and/or 'station_id' columns were not found in the source sampleMetadata. The pipeline cannot generate a default for this field.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> The 'eventDate' column contains dates without a specific time. If a more precise time is available in your source data, please include it.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> EML Recommendations - Consider adding these fields for better metadata quality:</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> • Temporal coverage helps users understand when data was collected</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> Template placeholders detected - please customize:</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> • Title contains placeholder text [LOCATION] or [TIMEFRAME] - please update with specific information</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> • Abstract appears to contain template text - please customize with your specific dataset description</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> • Contact email appears to be template text - please update with actual email address</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> In output file <strong>'occurrence_core_gbif.csv'</strong>, the column <strong>'bibliographicCitation'</strong> was found to be completely empty.</div>
            <div class="alert alert-warning"><strong>WARNING:</strong> In output file <strong>'occurrence_core_gbif.csv'</strong>, the column <strong>'locationID'</strong> was found to be completely empty.</div>

        </div>
<h1>Data Cleaning</h1>

        <p style="font-size: 18px; color: #495057; margin-bottom: 25px; font-weight: 500;">Starting initial data cleaning of eDNA metadata and raw data from FAIRe NOAA format to Darwin Core for OBIS and GBIF submission</p>
        
<h2>Loading Configuration</h2>
<div class="alert alert-success">Configuration loaded successfully</div>
<div class="alert alert-success">Configuration file saved as: config_Whale_Prey_Taxa_Testing_20251015.yaml</div>
<p>Saved config file: processed-v3/config_Whale_Prey_Taxa_Testing_20251015.yaml</p>
<h4>Configuration Summary:</h4><ul><li>Run Name: Whale_Prey_Taxa_Testing_20251015</li><li>API Source: GBIF</li><li>Excel file: raw-v3/FAIRe_NOAA_example_dataset/FAIRe-NOAA_noaa-sefsc-gu1901.xlsx</li><li>Number of analysis runs: 2</li><li>Output directory: processed-v3/</li><li>Local reference database: False</li></ul>
<h2>Loading Project Data</h2>
<p>Found 9 sheets in Excel file: README, projectMetadata, sampleMetadata, experimentRunMetadata, analysisMetadata_rosel-ctd-mifi, analysisMetadata_rosel-ctd-riaz, taxaRaw, taxaFinal, Drop-down values</p>
<p>Found 2 analysis metadata sheets: analysisMetadata_rosel-ctd-mifi, analysisMetadata_rosel-ctd-riaz</p>
<p>Processing sheet 'analysisMetadata_rosel-ctd-mifi': assay 'Fish-12S-MiFish-Miya-Stoeckle', run 'rosel-ctd-mifish-addMFtrawlJfish-241001'</p>
<p>Processing sheet 'analysisMetadata_rosel-ctd-riaz': assay 'Fish-12S-Riaz', run 'rosel-ctd-riaz-addMFtrawlJfish-241001'</p>
<div class="alert alert-success">Successfully loaded project data:</div>
<ul><li>Sample metadata: 29 rows</li><li>Experiment run metadata: 58 rows</li><li>Project metadata: 90 rows</li><li>Analysis assays: 2</li></ul>
<p><h4>sampleMetadata preview:</h4></p>
<p>Contextual data about the samples collected, such as when it was collected, where it was collected from, what kind of sample it is, and what were the properties of the environment or experimental condition from which the sample was taken. Each row is a distinct sample, or Event. Most of this information is recorded during sample collection. This sheet contains terms from the FAIRe NOAA data template.</p>
<h4>sampleMetadata (first 5 rows)</h4><p><strong>Shape:</strong> 29 rows × 96 columns</p><p><em>Showing first 5 rows of 29 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>samp_name</th>
      <th>expedition_id</th>
      <th>ctd_bottle_number</th>
      <th>depth_category</th>
      <th>lab_note</th>
      <th>serial_number</th>
      <th>waterBody</th>
      <th>samp_category</th>
      <th>neg_cont_type</th>
      <th>pos_cont_type</th>
      <th>materialSampleID</th>
      <th>sample_derived_from</th>
      <th>sample_composed_of</th>
      <th>rel_cont_id</th>
      <th>biological_rep_relation</th>
      <th>extract_number</th>
      <th>plate_number</th>
      <th>well_number</th>
      <th>well_position</th>
      <th>extraction_status</th>
      <th>decimalLongitude</th>
      <th>decimalLatitude</th>
      <th>verbatimLongitude</th>
      <th>verbatimLatitude</th>
      <th>verbatimCoordinateSystem</th>
      <th>verbatimSRS</th>
      <th>geo_loc_name</th>
      <th>eventDate</th>
      <th>eventDurationValue</th>
      <th>verbatimEventDate</th>
      <th>verbatimEventTime</th>
      <th>env_broad_scale</th>
      <th>env_local_scale</th>
      <th>env_medium</th>
      <th>habitat_natural_artificial_0_1</th>
      <th>samp_collect_method</th>
      <th>samp_collect_device</th>
      <th>samp_size</th>
      <th>samp_size_unit</th>
      <th>samp_store_temp</th>
      <th>samp_store_sol</th>
      <th>samp_store_dur</th>
      <th>samp_store_loc</th>
      <th>dna_store_loc</th>
      <th>samp_store_method_additional</th>
      <th>samp_mat_process</th>
      <th>filter_passive_active_0_1</th>
      <th>stationed_sample_dur</th>
      <th>pump_flow_rate</th>
      <th>pump_flow_rate_unit</th>
      <th>prefilter_material</th>
      <th>size_frac_low</th>
      <th>size_frac</th>
      <th>filter_diameter</th>
      <th>filter_surface_area</th>
      <th>filter_material</th>
      <th>filter_name</th>
      <th>precip_chem_prep</th>
      <th>precip_force_prep</th>
      <th>precip_time_prep</th>
      <th>prepped_samp_store_temp</th>
      <th>prepped_samp_store_sol</th>
      <th>prepped_samp_store_dur</th>
      <th>prep_method_additional</th>
      <th>date_ext</th>
      <th>samp_vol_we_dna_ext</th>
      <th>samp_vol_we_dna_ext_unit</th>
      <th>nucl_acid_ext_lysis</th>
      <th>nucl_acid_ext_sep</th>
      <th>nucl_acid_ext</th>
      <th>nucl_acid_ext_kit</th>
      <th>nucl_acid_ext_modify</th>
      <th>dna_cleanup_0_1</th>
      <th>dna_cleanup_method</th>
      <th>concentration</th>
      <th>concentration_unit</th>
      <th>concentration_method</th>
      <th>ratioOfAbsorbance260_280</th>
      <th>pool_dna_num</th>
      <th>nucl_acid_ext_method_additional</th>
      <th>assay_name</th>
      <th>samp_weather</th>
      <th>minimumDepthInMeters</th>
      <th>maximumDepthInMeters</th>
      <th>tot_depth_water_col</th>
      <th>temp</th>
      <th>chlorophyll</th>
      <th>light_intensity</th>
      <th>ph</th>
      <th>ph_meth</th>
      <th>salinity</th>
      <th>turbidity</th>
      <th>diss_oxygen</th>
      <th>diss_oxygen_unit</th>
      <th>transmission</th>
      <th>density</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>GU190706-CTD11-220</td>
      <td>GU19-01</td>
      <td>CTD11</td>
      <td>Bottom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mexico, Gulf of</td>
      <td>sample</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>GU190706-CTD11-220</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>28.662</td>
      <td>-85.793</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>USA: Gulf of Mexico</td>
      <td>2019-07-06 00:00:00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>0</td>
      <td>CTD rosette</td>
      <td>Niskin bottle</td>
      <td>2</td>
      <td>L</td>
      <td>4</td>
      <td>none</td>
      <td>P19M/35M</td>
      <td>In cooler with ice</td>
      <td>NOAA SEFSC -80Freezer</td>
      <td>NaN</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>1</td>
      <td>not applicable</td>
      <td>not collected</td>
      <td>NaN</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>0.45</td>
      <td>47</td>
      <td>NaN</td>
      <td>cellulose ester</td>
      <td>MilliporeSigma</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>ambient</td>
      <td>longmire</td>
      <td>P4M</td>
      <td>NaN</td>
      <td>2019-10-28 00:00:00</td>
      <td>2</td>
      <td>L</td>
      <td>physical | thermal</td>
      <td>phenol chloroform</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>not applicable</td>
      <td>not provided</td>
      <td>1</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle | Fish-12S-Riaz</td>
      <td>NaN</td>
      <td>220</td>
      <td>220</td>
      <td>NaN</td>
      <td>15.5415</td>
      <td>0.038</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>36.0742</td>
      <td>NaN</td>
      <td>4.397</td>
      <td>mg/L</td>
      <td>95.41</td>
      <td>1027.6571</td>
    </tr>
    <tr>
      <th>1</th>
      <td>GU190707-CTD13-310</td>
      <td>GU19-01</td>
      <td>CTD13</td>
      <td>Bottom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mexico, Gulf of</td>
      <td>sample</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>GU190707-CTD13-310</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>28.501</td>
      <td>-85.94</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>USA: Gulf of Mexico</td>
      <td>2019-07-07 00:00:00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>0</td>
      <td>CTD rosette</td>
      <td>Niskin bottle</td>
      <td>2</td>
      <td>L</td>
      <td>4</td>
      <td>none</td>
      <td>P19M/35M</td>
      <td>In cooler with ice</td>
      <td>NOAA SEFSC -80Freezer</td>
      <td>NaN</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>1</td>
      <td>not applicable</td>
      <td>not collected</td>
      <td>NaN</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>0.45</td>
      <td>47</td>
      <td>NaN</td>
      <td>cellulose ester</td>
      <td>MilliporeSigma</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>ambient</td>
      <td>longmire</td>
      <td>P4M</td>
      <td>NaN</td>
      <td>2019-10-28 00:00:00</td>
      <td>2</td>
      <td>L</td>
      <td>physical | thermal</td>
      <td>phenol chloroform</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>not applicable</td>
      <td>not provided</td>
      <td>1</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td>1.72</td>
      <td>ng/µl</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle | Fish-12S-Riaz</td>
      <td>NaN</td>
      <td>310</td>
      <td>310</td>
      <td>NaN</td>
      <td>12.8806</td>
      <td>0.0336</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>35.6354</td>
      <td>NaN</td>
      <td>3.9773</td>
      <td>mg/L</td>
      <td>95.1722</td>
      <td>1028.3006</td>
    </tr>
    <tr>
      <th>2</th>
      <td>GU190707-CTD14-315</td>
      <td>GU19-01</td>
      <td>CTD14</td>
      <td>Bottom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mexico, Gulf of</td>
      <td>sample</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>GU190707-CTD14-315</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>28.856</td>
      <td>-86.225</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>USA: Gulf of Mexico</td>
      <td>2019-07-07 00:00:00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>0</td>
      <td>CTD rosette</td>
      <td>Niskin bottle</td>
      <td>2</td>
      <td>L</td>
      <td>4</td>
      <td>none</td>
      <td>P19M/35M</td>
      <td>In cooler with ice</td>
      <td>NOAA SEFSC -80Freezer</td>
      <td>NaN</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>1</td>
      <td>not applicable</td>
      <td>not collected</td>
      <td>NaN</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>0.45</td>
      <td>47</td>
      <td>NaN</td>
      <td>cellulose ester</td>
      <td>MilliporeSigma</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>ambient</td>
      <td>longmire</td>
      <td>P4M</td>
      <td>NaN</td>
      <td>2019-10-28 00:00:00</td>
      <td>2</td>
      <td>L</td>
      <td>physical | thermal</td>
      <td>phenol chloroform</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>not applicable</td>
      <td>not provided</td>
      <td>1</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td>2.12</td>
      <td>ng/µl</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle | Fish-12S-Riaz</td>
      <td>NaN</td>
      <td>315</td>
      <td>315</td>
      <td>NaN</td>
      <td>11.9299</td>
      <td>0.0589</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>35.4849</td>
      <td>NaN</td>
      <td>3.7739</td>
      <td>mg/L</td>
      <td>93.7082</td>
      <td>1028.3984</td>
    </tr>
    <tr>
      <th>3</th>
      <td>GU190708-CTD16-252</td>
      <td>GU19-01</td>
      <td>CTD16</td>
      <td>Bottom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mexico, Gulf of</td>
      <td>sample</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>GU190708-CTD16-252</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.452</td>
      <td>-86.548</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>USA: Gulf of Mexico</td>
      <td>2019-07-08 00:00:00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>0</td>
      <td>CTD rosette</td>
      <td>Niskin bottle</td>
      <td>2</td>
      <td>L</td>
      <td>4</td>
      <td>none</td>
      <td>P19M/35M</td>
      <td>In cooler with ice</td>
      <td>NOAA SEFSC -80Freezer</td>
      <td>NaN</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>1</td>
      <td>not applicable</td>
      <td>not collected</td>
      <td>NaN</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>0.45</td>
      <td>47</td>
      <td>NaN</td>
      <td>cellulose ester</td>
      <td>MilliporeSigma</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>ambient</td>
      <td>longmire</td>
      <td>P4M</td>
      <td>NaN</td>
      <td>2019-10-28 00:00:00</td>
      <td>2</td>
      <td>L</td>
      <td>physical | thermal</td>
      <td>phenol chloroform</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>not applicable</td>
      <td>not provided</td>
      <td>1</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td>3.79</td>
      <td>ng/µl</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle | Fish-12S-Riaz</td>
      <td>NaN</td>
      <td>252</td>
      <td>252</td>
      <td>NaN</td>
      <td>13.1233</td>
      <td>0.0655</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>35.6748</td>
      <td>NaN</td>
      <td>3.9586</td>
      <td>mg/L</td>
      <td>94.5554</td>
      <td>1028.0212</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GU190708-CTD17-171</td>
      <td>GU19-01</td>
      <td>CTD17</td>
      <td>Bottom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Mexico, Gulf of</td>
      <td>sample</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>GU190708-CTD17-171</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.439</td>
      <td>-86.342</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>USA: Gulf of Mexico</td>
      <td>2019-07-08 00:00:00</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>0</td>
      <td>CTD rosette</td>
      <td>Niskin bottle</td>
      <td>2</td>
      <td>L</td>
      <td>4</td>
      <td>none</td>
      <td>P19M/35M</td>
      <td>In cooler with ice</td>
      <td>NOAA SEFSC -80Freezer</td>
      <td>NaN</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>1</td>
      <td>not applicable</td>
      <td>not collected</td>
      <td>NaN</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>0.45</td>
      <td>47</td>
      <td>NaN</td>
      <td>cellulose ester</td>
      <td>MilliporeSigma</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>not applicable</td>
      <td>ambient</td>
      <td>longmire</td>
      <td>P4M</td>
      <td>NaN</td>
      <td>2019-10-28 00:00:00</td>
      <td>2</td>
      <td>L</td>
      <td>physical | thermal</td>
      <td>phenol chloroform</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>not applicable</td>
      <td>not provided</td>
      <td>1</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td>2.37</td>
      <td>ng/µl</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle | Fish-12S-Riaz</td>
      <td>NaN</td>
      <td>171</td>
      <td>171</td>
      <td>NaN</td>
      <td>17.829</td>
      <td>0.0629</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>36.3846</td>
      <td>NaN</td>
      <td>4.0485</td>
      <td>mg/L</td>
      <td>94.0212</td>
      <td>1027.13</td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<p><h4>experimentRunMetadata preview:</h4></p>
<p>Contextual data about how the samples were prepared for sequencing. Includes how they were extracted, what amplicon was targeted, how they were sequenced. Each row is a separate sequencing library preparation, distinguished by a unique lib_id.</p>
<h4>experimentRunMetadata (first 2 rows)</h4><p><strong>Shape:</strong> 58 rows × 17 columns</p><p><em>Showing first 2 rows of 58 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>samp_name</th>
      <th>assay_name</th>
      <th>pcr_plate_id</th>
      <th>lib_id</th>
      <th>seq_run_id</th>
      <th>lib_conc</th>
      <th>lib_conc_unit</th>
      <th>lib_conc_meth</th>
      <th>phix_perc</th>
      <th>mid_forward</th>
      <th>mid_reverse</th>
      <th>filename</th>
      <th>filename2</th>
      <th>checksum_filename</th>
      <th>checksum_filename2</th>
      <th>associatedSequences</th>
      <th>input_read_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control10_20190721</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>not provided</td>
      <td>Control10_20190721_MiFish_S52</td>
      <td>rosel_mifish</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Qubit dsDNA HS, Agilent 4200 TapeStation HS DNA1000 and Invitrogen Collibri Library Quantification qPCR assays</td>
      <td>10</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Control10_20190721_MiFish_S52_L001_R1_001.fastq.gz</td>
      <td>Control10_20190721_MiFish_S52_L001_R2_001.fastq.gz</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>https://www.ncbi.nlm.nih.gov/sra/SRX30428770 | https://www.ncbi.nlm.nih.gov/biosample/SAMN51247883 | https://www.ncbi.nlm.nih.gov/bioproject/PRJNA1322479</td>
      <td>1014</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Control12_20190731</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>not provided</td>
      <td>Control12_20190731_MiFish_S53</td>
      <td>rosel_mifish</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Qubit dsDNA HS, Agilent 4200 TapeStation HS DNA1000 and Invitrogen Collibri Library Quantification qPCR assays</td>
      <td>10</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Control12_20190731_MiFish_S53_L001_R1_001.fastq.gz</td>
      <td>Control12_20190731_MiFish_S53_L001_R2_001.fastq.gz</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>https://www.ncbi.nlm.nih.gov/sra/SRX30428771 | https://www.ncbi.nlm.nih.gov/biosample/SAMN51247884 | https://www.ncbi.nlm.nih.gov/bioproject/PRJNA1322479</td>
      <td>77</td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<h2>Loading ASV Data</h2>
<p>Processing analysis run: rosel-ctd-mifish-addMFtrawlJfish-241001</p>
<div class="alert alert-success">Loaded taxonomy file: raw-v3/FAIRe_NOAA_example_dataset/asvTaxaFeatures_addJ-mifish_sefsc-gu1901.tsv (shape: (243, 12))</div>
<p>Taxonomy columns detected: ['featureid', 'dna_sequence', 'taxonomy', 'verbatimIdentification', 'kingdom', 'phylum', 'class', 'order', 'family', 'genus', 'scientificName', 'Confidence']</p>
<div class="alert alert-success">Loaded abundance table file: raw-v3/FAIRe_NOAA_example_dataset/table_addJ-mifish_sefsc-gu1901.tsv (shape: (243, 30))</div>
<p>Processing analysis run: rosel-ctd-riaz-addMFtrawlJfish-241001</p>
<div class="alert alert-success">Loaded taxonomy file: raw-v3/FAIRe_NOAA_example_dataset/asvTaxaFeatures_addJ-riaz_sefsc-gu1901.tsv (shape: (116, 12))</div>
<p>Taxonomy columns detected: ['featureid', 'dna_sequence', 'taxonomy', 'verbatimIdentification', 'kingdom', 'phylum', 'class', 'order', 'family', 'genus', 'scientificName', 'Confidence']</p>
<div class="alert alert-success">Loaded abundance table file: raw-v3/FAIRe_NOAA_example_dataset/table_addJ-riaz_sefsc-gu1901.tsv (shape: (116, 30))</div>
<h4>Preview of Abundance Table for 'rosel-ctd-mifish-addMFtrawlJfish-241001'</h4><p><strong>Shape:</strong> 5 rows × 20 columns</p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>featureid</th>
      <th>Control10_20190721</th>
      <th>Control12_20190731</th>
      <th>Control9_20190715</th>
      <th>ExtNeg_20190910</th>
      <th>ExtNeg_20190918</th>
      <th>ExtNeg_20191028</th>
      <th>ExtNeg_20191031</th>
      <th>GU190706-CTD11-220</th>
      <th>GU190707-CTD13-310</th>
      <th>GU190707-CTD14-315</th>
      <th>GU190708-CTD16-252</th>
      <th>GU190708-CTD17-171</th>
      <th>GU190709-CTD20-280</th>
      <th>GU190710-CTD22-245</th>
      <th>GU190710-CTD23-190</th>
      <th>GU190714-CTD25-185</th>
      <th>GU190714-CTD26-260</th>
      <th>GU190715-CTD28-310</th>
      <th>GU190721-CTD31-205</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>010e7a145bf6d7824c0afab445d912db</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01b20b363c6b6b8077f7938f81522554</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2013</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>04722aea39fdae29b213552fb69c7cee</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0518a354c0e4e9fede9f4f671962be3b</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>66</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>06faf9ae3ac3f725585afaad1bb1084d</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<div class="alert alert-success">Successfully loaded ASV data for 2 analysis runs</div>
<h2>Removing Control Samples</h2>
<p>Using column 'samp_category' to detect control samples</p>
<p>Looking for these control values: ['negative control', 'positive control']</p>
<p>Found 8 control/blank samples to remove</p>
<p>You can view the list of samples to be dropped below:</p>
<h4>Complete list of samples being removed:</h4><ul><li>Control9_20190715</li><li>Control10_20190721</li><li>Control12_20190731</li><li>PCRNeg</li><li>ExtNeg_20190910</li><li>ExtNeg_20190918</li><li>ExtNeg_20191028</li><li>ExtNeg_20191031</li></ul>
<p>Sample metadata shape after removal: (21, 96)</p>
<p>Check the samp_category values left in your sampleMetadata.</p>
<p>Remaining samp_category values: sample</p>
<p>Experiment run metadata shape after removal: (42, 17)</p>
<p>Analysis 'rosel-ctd-mifish-addMFtrawlJfish-241001': removed 8 columns (30 → 22)</p>
<p>Analysis 'rosel-ctd-riaz-addMFtrawlJfish-241001': removed 8 columns (30 → 22)</p>
<div class="alert alert-success">Successfully removed control samples from all datasets</div>
<h2>Drop columns with all NAs</h2>
<p>Which columns in each sheet have only NA values?</p>
<h4>Columns with all NAs by sheet</h4><p><strong>Shape:</strong> 31 rows × 2 columns</p><p><em>Showing first 10 rows of 31 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sampleMetadata</th>
      <th>experimentRunMetadata</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>lab_note</td>
      <td>lib_conc</td>
    </tr>
    <tr>
      <th>1</th>
      <td>serial_number</td>
      <td>lib_conc_unit</td>
    </tr>
    <tr>
      <th>2</th>
      <td>sample_derived_from</td>
      <td>mid_forward</td>
    </tr>
    <tr>
      <th>3</th>
      <td>sample_composed_of</td>
      <td>mid_reverse</td>
    </tr>
    <tr>
      <th>4</th>
      <td>rel_cont_id</td>
      <td>checksum_filename</td>
    </tr>
    <tr>
      <th>5</th>
      <td>biological_rep_relation</td>
      <td>checksum_filename2</td>
    </tr>
    <tr>
      <th>6</th>
      <td>extract_number</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>plate_number</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>well_number</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>well_position</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table></div>
<p>Dropping from data['sampleMetadata']: ['lab_note', 'serial_number', 'sample_derived_from', 'sample_composed_of', 'rel_cont_id', 'biological_rep_relation', 'extract_number', 'plate_number', 'well_number', 'well_position', 'extraction_status', 'verbatimLongitude', 'verbatimLatitude', 'verbatimCoordinateSystem', 'verbatimSRS', 'eventDurationValue', 'verbatimEventDate', 'verbatimEventTime', 'samp_store_method_additional', 'pump_flow_rate_unit', 'filter_surface_area', 'prep_method_additional', 'ratioOfAbsorbance260_280', 'pool_dna_num', 'nucl_acid_ext_method_additional', 'samp_weather', 'tot_depth_water_col', 'light_intensity', 'ph', 'ph_meth', 'turbidity']</p>
<p>Dropping from data['experimentRunMetadata']: ['lib_conc', 'lib_conc_unit', 'mid_forward', 'mid_reverse', 'checksum_filename', 'checksum_filename2']</p>
<div class="alert alert-success">Successfully dropped all-NA columns</div>
<h2>Now lets drop NA rows of each analysisMetadata sheet</h2>
<p>Identifying rows with empty 'values' column in analysisMetadata sheets...</p>
<p>For Analysis (Assay: 'Fish-12S-MiFish-Miya-Stoeckle', Run: 'rosel-ctd-mifish-addMFtrawlJfish-241001'), found 3 empty rows:</p>
<p>  ['screen_other', 'otu_final_description', 'bioinfo_method_additional']</p>
<p>For Analysis (Assay: 'Fish-12S-Riaz', Run: 'rosel-ctd-riaz-addMFtrawlJfish-241001'), found 3 empty rows:</p>
<p>  ['screen_other', 'otu_final_description', 'bioinfo_method_additional']</p>
<p>Summary: The terms listed above will be dropped from their respective sheets.</p>
<p>Removing identified rows with empty 'values' from analysisMetadata sheets...</p>
<p>  For Assay: 'Fish-12S-MiFish-Miya-Stoeckle', Run: 'rosel-ctd-mifish-addMFtrawlJfish-241001': Removed 3 row(s).</p>
<p>  For Assay: 'Fish-12S-Riaz', Run: 'rosel-ctd-riaz-addMFtrawlJfish-241001': Removed 3 row(s).</p>
<p>Finished removing rows with empty 'values' from analysisMetadata sheets.</p>
<div class="alert alert-success">Finished removing rows with empty 'values' from analysisMetadata sheets</div>
<h2>Now lets check for columns or rows with SOME missing values</h2>
<p>Now let's check which columns have missing values in some of the rows. These should be filled in on the Excel sheet with the appropriate term ('not applicable', 'missing', or 'not collected'). Alternatively, you can drop the column if it is not needed for submission to OBIS.</p>
<p>Columns with some NAs:</p>
<h4>Columns with some missing values</h4><p><strong>Shape:</strong> 0 rows × 2 columns</p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sampleMetadata</th>
      <th>experimentRunMetadata</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
<p>Here I'm going to drop all the columns with some missing data, as I don't need them for submission to OBIS.</p>
<p>No columns dropped from data['sampleMetadata']</p>
<p>No columns dropped from data['experimentRunMetadata']</p>
<div class="alert alert-success">Successfully dropped columns with some missing values</div>
<h2>Load data dictionary Excel file</h2>
<p>Attempting to load Darwin Core mappings from data_mapper.yaml (preferred). If not found, will fall back to the FAIRe NOAA checklist.</p>
<p>Loading mappings for 'NOAA' format from keys: occurrence_core, dna_derived_extension</p>
<p>Loaded Darwin Core mappings from data_mapper.yaml</p>
<p>Occurrence mappings: 37; DNA Derived mappings: 31</p>
<h4>Darwin Core Occurrence Mappings</h4><p><strong>Shape:</strong> 37 rows × 2 columns</p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DwC_term</th>
      <th>FAIRe_term</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>occurrenceID</td>
      <td>occurrenceID</td>
    </tr>
    <tr>
      <th>1</th>
      <td>eventID</td>
      <td>lib_id</td>
    </tr>
    <tr>
      <th>2</th>
      <td>basisOfRecord</td>
      <td>basisOfRecord</td>
    </tr>
    <tr>
      <th>3</th>
      <td>verbatimIdentification</td>
      <td>verbatimIdentification</td>
    </tr>
    <tr>
      <th>4</th>
      <td>kingdom</td>
      <td>kingdom</td>
    </tr>
    <tr>
      <th>5</th>
      <td>phylum</td>
      <td>phylum</td>
    </tr>
    <tr>
      <th>6</th>
      <td>class</td>
      <td>class</td>
    </tr>
    <tr>
      <th>7</th>
      <td>order</td>
      <td>order</td>
    </tr>
    <tr>
      <th>8</th>
      <td>family</td>
      <td>family</td>
    </tr>
    <tr>
      <th>9</th>
      <td>genus</td>
      <td>genus</td>
    </tr>
    <tr>
      <th>10</th>
      <td>scientificName</td>
      <td>scientificName</td>
    </tr>
    <tr>
      <th>11</th>
      <td>taxonID</td>
      <td>taxonID</td>
    </tr>
    <tr>
      <th>12</th>
      <td>scientificNameID</td>
      <td>scientificNameID</td>
    </tr>
    <tr>
      <th>13</th>
      <td>taxonRank</td>
      <td>taxonRank</td>
    </tr>
    <tr>
      <th>14</th>
      <td>parentEventID</td>
      <td>samp_name</td>
    </tr>
    <tr>
      <th>15</th>
      <td>datasetID</td>
      <td>project_id</td>
    </tr>
    <tr>
      <th>16</th>
      <td>bibliographicCitation</td>
      <td>bibliographicCitation</td>
    </tr>
    <tr>
      <th>17</th>
      <td>license</td>
      <td>license</td>
    </tr>
    <tr>
      <th>18</th>
      <td>institutionID</td>
      <td>institutionID</td>
    </tr>
    <tr>
      <th>19</th>
      <td>locationID</td>
      <td>locationID</td>
    </tr>
    <tr>
      <th>20</th>
      <td>waterBody</td>
      <td>waterBody</td>
    </tr>
    <tr>
      <th>21</th>
      <td>occurrenceStatus</td>
      <td>occurrenceStatus</td>
    </tr>
    <tr>
      <th>22</th>
      <td>organismQuantity</td>
      <td>organismQuantity</td>
    </tr>
    <tr>
      <th>23</th>
      <td>organismQuantityType</td>
      <td>organismQuantityType</td>
    </tr>
    <tr>
      <th>24</th>
      <td>sampleSizeValue</td>
      <td>samp_size</td>
    </tr>
    <tr>
      <th>25</th>
      <td>sampleSizeUnit</td>
      <td>samp_size_unit</td>
    </tr>
    <tr>
      <th>26</th>
      <td>recordedBy</td>
      <td>recordedBy</td>
    </tr>
    <tr>
      <th>27</th>
      <td>materialSampleID</td>
      <td>materialSampleID</td>
    </tr>
    <tr>
      <th>28</th>
      <td>eventDate</td>
      <td>eventDate</td>
    </tr>
    <tr>
      <th>29</th>
      <td>minimumDepthInMeters</td>
      <td>minimumDepthInMeters</td>
    </tr>
    <tr>
      <th>30</th>
      <td>maximumDepthInMeters</td>
      <td>maximumDepthInMeters</td>
    </tr>
    <tr>
      <th>31</th>
      <td>locality</td>
      <td>geo_loc_name</td>
    </tr>
    <tr>
      <th>32</th>
      <td>decimalLatitude</td>
      <td>decimalLatitude</td>
    </tr>
    <tr>
      <th>33</th>
      <td>decimalLongitude</td>
      <td>decimalLongitude</td>
    </tr>
    <tr>
      <th>34</th>
      <td>geodeticDatum</td>
      <td>verbatimSRS</td>
    </tr>
    <tr>
      <th>35</th>
      <td>identificationRemarks</td>
      <td>identificationRemarks</td>
    </tr>
    <tr>
      <th>36</th>
      <td>associatedSequences</td>
      <td>associatedSequences</td>
    </tr>
  </tbody>
</table></div>
<h4>DNA Derived Data Mappings</h4><p><strong>Shape:</strong> 31 rows × 2 columns</p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DwC_term</th>
      <th>FAIRe_term</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>occurrenceID</td>
      <td>eventID</td>
    </tr>
    <tr>
      <th>1</th>
      <td>eventID</td>
      <td>lib_id</td>
    </tr>
    <tr>
      <th>2</th>
      <td>samp_name</td>
      <td>samp_name</td>
    </tr>
    <tr>
      <th>3</th>
      <td>env_broad_scale</td>
      <td>env_broad_scale</td>
    </tr>
    <tr>
      <th>4</th>
      <td>env_local_scale</td>
      <td>env_local_scale</td>
    </tr>
    <tr>
      <th>5</th>
      <td>env_medium</td>
      <td>env_medium</td>
    </tr>
    <tr>
      <th>6</th>
      <td>samp_collect_device</td>
      <td>samp_collect_device</td>
    </tr>
    <tr>
      <th>7</th>
      <td>samp_mat_process</td>
      <td>samp_mat_process</td>
    </tr>
    <tr>
      <th>8</th>
      <td>size_frac</td>
      <td>size_frac</td>
    </tr>
    <tr>
      <th>9</th>
      <td>samp_size</td>
      <td>samp_size</td>
    </tr>
    <tr>
      <th>10</th>
      <td>samp_vol_we_dna_ext</td>
      <td>samp_vol_we_dna_ext</td>
    </tr>
    <tr>
      <th>11</th>
      <td>nucl_acid_ext</td>
      <td>nucl_acid_ext</td>
    </tr>
    <tr>
      <th>12</th>
      <td>concentration</td>
      <td>concentration</td>
    </tr>
    <tr>
      <th>13</th>
      <td>concentrationUnit</td>
      <td>concentration_unit</td>
    </tr>
    <tr>
      <th>14</th>
      <td>target_gene</td>
      <td>target_gene</td>
    </tr>
    <tr>
      <th>15</th>
      <td>target_subfragment</td>
      <td>target_subfragment</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ampliconSize</td>
      <td>ampliconSize</td>
    </tr>
    <tr>
      <th>17</th>
      <td>pcr_primer_forward</td>
      <td>pcr_primer_forward</td>
    </tr>
    <tr>
      <th>18</th>
      <td>pcr_primer_reverse</td>
      <td>pcr_primer_reverse</td>
    </tr>
    <tr>
      <th>19</th>
      <td>pcr_primer_name_forward</td>
      <td>pcr_primer_name_forward</td>
    </tr>
    <tr>
      <th>20</th>
      <td>pcr_primer_name_reverse</td>
      <td>pcr_primer_name_reverse</td>
    </tr>
    <tr>
      <th>21</th>
      <td>pcr_primer_reference</td>
      <td>pcr_primer_reference_forward</td>
    </tr>
    <tr>
      <th>22</th>
      <td>nucl_acid_amp</td>
      <td>nucl_acid_amp</td>
    </tr>
    <tr>
      <th>23</th>
      <td>pcr_cond</td>
      <td>pcr_cond</td>
    </tr>
    <tr>
      <th>24</th>
      <td>seq_meth</td>
      <td>instrument</td>
    </tr>
    <tr>
      <th>25</th>
      <td>lib_layout</td>
      <td>lib_layout</td>
    </tr>
    <tr>
      <th>26</th>
      <td>DNA_sequence</td>
      <td>dna_sequence</td>
    </tr>
    <tr>
      <th>27</th>
      <td>otu_class_appr</td>
      <td>otu_clust_tool</td>
    </tr>
    <tr>
      <th>28</th>
      <td>otu_db</td>
      <td>otu_db</td>
    </tr>
    <tr>
      <th>29</th>
      <td>otu_seq_comp_appr</td>
      <td>otu_seq_comp_appr</td>
    </tr>
    <tr>
      <th>30</th>
      <td>source_mat_id</td>
      <td>materialSampleID</td>
    </tr>
  </tbody>
</table></div>
<div class="alert alert-success">Loaded Darwin Core mappings</div>
<h2>Building Combined Occurrence Core</h2>
<p>🚀 Starting data processing for 2 analysis run(s) to generate occurrence records.</p>
<p>✓ Built eventID lookup map from experimentRunMetadata with 42 entries.</p>
<p>Processing Analysis Run: rosel-ctd-mifish-addMFtrawlJfish-241001</p>
<p>  Join diagnostic: taxonomy fields present for 491/491 rows after merge.</p>
<p>  DIAGNOSTIC: For DwC term 'geodeticDatum', its mapped FAIRe term 'verbatimSRS' (from mapper) was NOT found as a column in the merged sample data. The column will be empty if not populated by other means.</p>
<div class="alert alert-warning"><strong>WARNING:</strong> Could not construct 'locationID' from config. The following columns were not found: line_id, station_id. Falling back to default.</div>
<p>  Successfully processed rosel-ctd-mifish-addMFtrawlJfish-241001: Generated 491 records.</p>
<p>Processing Analysis Run: rosel-ctd-riaz-addMFtrawlJfish-241001</p>
<p>  Join diagnostic: taxonomy fields present for 421/421 rows after merge.</p>
<p>  DIAGNOSTIC: For DwC term 'geodeticDatum', its mapped FAIRe term 'verbatimSRS' (from mapper) was NOT found as a column in the merged sample data. The column will be empty if not populated by other means.</p>
<div class="alert alert-warning"><strong>WARNING:</strong> Could not construct 'locationID' from config. The following columns were not found: line_id, station_id. Falling back to default.</div>
<p>  Successfully processed rosel-ctd-riaz-addMFtrawlJfish-241001: Generated 421 records.</p>
<p>🏁 LOOP COMPLETED: Successful runs: 2, Failed runs: 0, Total DataFrames to combine: 2</p>
<h3>Data Quality Checks</h3>
<div class="alert alert-warning"><strong>WARNING:</strong> The 'geodeticDatum' column was empty or missing. It has been filled with the default value 'WGS84'. Please verify this is appropriate for your data.</div>
<div class="alert alert-warning"><strong>WARNING:</strong> The 'locationID' column is empty. This is likely because the 'line_id' and/or 'station_id' columns were not found in the source sampleMetadata. The pipeline cannot generate a default for this field.</div>
<div class="alert alert-warning"><strong>WARNING:</strong> The 'eventDate' column contains dates without a specific time. If a more precise time is available in your source data, please include it.</div>
<p>🔄 No duplicate occurrenceID records found to drop.</p>
<p>💾 Combined occurrence file 'occurrence.csv' saved to 'processed-v3/occurrence.csv' with 912 records.</p>
<p>👀 Preview of final combined occurrence data (first 5 rows, selected columns):</p>
<h4>Occurrence Core Preview</h4><p><strong>Shape:</strong> 912 rows × 12 columns</p><p><em>Showing first 5 rows of 912 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>eventID</th>
      <th>occurrenceID</th>
      <th>assay_name</th>
      <th>parentEventID</th>
      <th>datasetID</th>
      <th>recordedBy</th>
      <th>locality</th>
      <th>decimalLatitude</th>
      <th>decimalLongitude</th>
      <th>geodeticDatum</th>
      <th>identificationRemarks</th>
      <th>locationID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>GU190706-CTD11-220</td>
      <td>noaa-sefsc-gu1901</td>
      <td>Lynsey Wilcox Talbot | Katherine Silliman</td>
      <td>USA: Gulf of Mexico</td>
      <td>-85.793</td>
      <td>28.662</td>
      <td>WGS84</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1, confidence: unknown confidence, against reference database: custom</td>
      <td><NA></td>
    </tr>
    <tr>
      <th>1</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_183bc18f3e5eac45c6dd248fb86d64bf</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>GU190706-CTD11-220</td>
      <td>noaa-sefsc-gu1901</td>
      <td>Lynsey Wilcox Talbot | Katherine Silliman</td>
      <td>USA: Gulf of Mexico</td>
      <td>-85.793</td>
      <td>28.662</td>
      <td>WGS84</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1, confidence: unknown confidence, against reference database: custom</td>
      <td><NA></td>
    </tr>
    <tr>
      <th>2</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_3c64823f9fe1b8e3dee560e7bb3b193c</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>GU190706-CTD11-220</td>
      <td>noaa-sefsc-gu1901</td>
      <td>Lynsey Wilcox Talbot | Katherine Silliman</td>
      <td>USA: Gulf of Mexico</td>
      <td>-85.793</td>
      <td>28.662</td>
      <td>WGS84</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1, confidence: unknown confidence, against reference database: custom</td>
      <td><NA></td>
    </tr>
    <tr>
      <th>3</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_781e1d0cf581569ca761dfb81438b698</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>GU190706-CTD11-220</td>
      <td>noaa-sefsc-gu1901</td>
      <td>Lynsey Wilcox Talbot | Katherine Silliman</td>
      <td>USA: Gulf of Mexico</td>
      <td>-85.793</td>
      <td>28.662</td>
      <td>WGS84</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1, confidence: unknown confidence, against reference database: custom</td>
      <td><NA></td>
    </tr>
    <tr>
      <th>4</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_87fc62ed809caa00b26b8cbf9255c7ac</td>
      <td>Fish-12S-MiFish-Miya-Stoeckle</td>
      <td>GU190706-CTD11-220</td>
      <td>noaa-sefsc-gu1901</td>
      <td>Lynsey Wilcox Talbot | Katherine Silliman</td>
      <td>USA: Gulf of Mexico</td>
      <td>-85.793</td>
      <td>28.662</td>
      <td>WGS84</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1, confidence: unknown confidence, against reference database: custom</td>
      <td><NA></td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<p><h4>📝 NOTE:</h4></p>
<p>The Occurrence Core at this step (before taxonomic assignment through WoRMS or GBIF), contains an assay_name column. This will be removed from the final Occurrence Core (after taxonomic assignment) but it is used by the taxonomic assignment code to know which assay's data you want to remove the 'species' rank from consideration. This is because some assays, like 16S for example, return non-usable assignments at species level, while, for example, 18S species assignments ARE useful.</p>
<div class="alert alert-success">Successfully created occurrence core with 912 records</div>
<h2>Taxonomic Assignment</h2>
<p>Loaded occurrence data: 912 records</p>
<p>Using API source: GBIF</p>
<p>Assays configured to skip species-level matching: None</p>
<p>Determining maximum taxonomic ranks for each assay...</p>
<p>  - Assay 'Fish-12S-MiFish-Miya-Stoeckle': 7 rank columns</p>
<p>  - Assay 'Fish-12S-Riaz': 7 rank columns</p>
<p>Starting taxonomic matching process...</p>
<p>Taxonomic matching completed</p>
<p>Applying manual taxonomic corrections for GBIF...</p>
<p>Reassigned 0 complex Eukaryota records to 'incertae sedis'.</p>
<p>Starting post-matching processing.</p>
<p>Adjusted final columns for GBIF standard: Removed 'scientificNameID'.</p>
<p>Removed temporary columns: ['assay_name', 'scientificNameID']</p>
<div class="alert alert-success">Taxonomic assignment completed! Saved 912 records to occurrence_core_gbif.csv</div>
<p>Summary: 147 unique taxa identified</p>
<h2>Creating Taxa Assignment Info File</h2>
<p>Using detailed match data from GBIF process for info file.</p>
<div class="alert alert-success">Taxa assignment info file created successfully</div>
<p>Saved taxa assignment info: 452 total rows (151 unique strings)</p>
<p>Output file: taxa_assignment_INFO_GBIF.csv</p>
<p>File size: 0.12 MB</p>
<p><h3>Detailed Taxa Assignment Information</h3></p>
<p><p>The table below (<code>taxa_assignment_INFO.csv</code>) provides a comprehensive look at the results of the taxonomic matching process. It includes all potential matches found for each unique <code>verbatimIdentification</code> from your raw data, not just the single best match chosen for the final occurrence file. This allows for manual review and complete transparency.</p><ul><li><b>verbatimIdentification:</b> The original, unaltered taxonomic string from your input data.</li><li><b>cleanedTaxonomy:</b> A standardized version of the verbatim string used for matching.</li><li><b>scientificName:</b> The scientific name of the match returned by the taxonomic service (WoRMS or GBIF).</li><li><b>confidence:</b> A score from 0-100 indicating GBIF's confidence in the match (GBIF only).</li><li><b>ambiguous:</b> (WoRMS only) A flag indicating if multiple potential matches were found for the verbatim string.</li><li><b>selected_match:</b> (WoRMS and GBIF) A flag indicating which of the potential matches was chosen and used in the final occurrence file.</li><li><b>consistency_check:</b> (GBIF only) A check to ensure the kingdom of the match is consistent with the kingdom in the verbatim string. Helps identify homonym errors.</li></ul></p>
<h4>Preview of taxa_assignment_INFO_GBIF.csv (showing up to 20 rows)</h4><p><strong>Shape:</strong> 227 rows × 15 columns</p><p><em>Showing first 20 rows of 227 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>verbatimIdentification</th>
      <th>cleanedTaxonomy</th>
      <th>selected_match</th>
      <th>scientificName</th>
      <th>confidence</th>
      <th>taxonRank</th>
      <th>taxonID</th>
      <th>kingdom</th>
      <th>phylum</th>
      <th>class</th>
      <th>order</th>
      <th>family</th>
      <th>genus</th>
      <th>match_type_debug</th>
      <th>nameAccordingTo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bacteria</td>
      <td>Bacteria</td>
      <td>True</td>
      <td>Bacteria</td>
      <td>97</td>
      <td>kingdom</td>
      <td>gbif:3</td>
      <td>Bacteria</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Eukaryota;Chordata;Actinopteri</td>
      <td>Eukaryota;Chordata;Actinopteri</td>
      <td>True</td>
      <td>Chordata</td>
      <td>97</td>
      <td>phylum</td>
      <td>gbif:44</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Eukaryota;Chordata;Actinopteri;Acanthuriformes;Antigoniidae;Antigonia;Antigonia capros</td>
      <td>Eukaryota;Chordata;Actinopteri;Acanthuriformes;Antigoniidae;Antigonia;Antigonia capros</td>
      <td>True</td>
      <td>Antigonia capros Lowe, 1843</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2389693</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Caproidae</td>
      <td>Antigonia</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Eukaryota;Chordata;Actinopteri;Acanthuriformes;Antigoniidae;Antigonia;Antigonia capros</td>
      <td>Eukaryota;Chordata;Actinopteri;Acanthuriformes;Antigoniidae;Antigonia;Antigonia capros</td>
      <td>False</td>
      <td>Antigonia capros Lowe, 1843</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2389693</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Caproidae</td>
      <td>Antigonia</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae</td>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae</td>
      <td>True</td>
      <td>Acropomatidae</td>
      <td>97</td>
      <td>family</td>
      <td>gbif:8486</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Acropomatidae</td>
      <td>NaN</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops bellus</td>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops bellus</td>
      <td>True</td>
      <td>Synagrops bellus (Goode & Bean, 1896)</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2381532</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Acropomatidae</td>
      <td>Synagrops</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops bellus</td>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops bellus</td>
      <td>False</td>
      <td>Synagrops bellus (Goode & Bean, 1896)</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2381532</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Acropomatidae</td>
      <td>Synagrops</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops spinosus</td>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Synagrops;Synagrops spinosus</td>
      <td>True</td>
      <td>Synagrops spinosa Schultz, 1940</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2381525</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Acropomatidae</td>
      <td>Parascombrops</td>
      <td>GBIF_FUZZY</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Verilus</td>
      <td>Eukaryota;Chordata;Actinopteri;Acropomatiformes;Acropomatidae;Verilus</td>
      <td>True</td>
      <td>Verilus Poey, 1860</td>
      <td>97</td>
      <td>genus</td>
      <td>gbif:2381536</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Perciformes</td>
      <td>Acropomatidae</td>
      <td>Verilus</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes</td>
      <td>True</td>
      <td>Anguilliformes</td>
      <td>97</td>
      <td>order</td>
      <td>gbif:495</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Chlopsidae;Chilorhinus;Chilorhinus suensonii</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Chlopsidae;Chilorhinus;Chilorhinus suensonii</td>
      <td>True</td>
      <td>Chilorhinus suensonii Lütken, 1852</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2405420</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Chlopsidae</td>
      <td>Chilorhinus</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Chlopsidae;Chilorhinus;Chilorhinus suensonii</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Chlopsidae;Chilorhinus;Chilorhinus suensonii</td>
      <td>False</td>
      <td>Chilorhinus suensonii Lütken, 1852</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2405420</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Chlopsidae</td>
      <td>Chilorhinus</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Ariosoma;Ariosoma balearicum</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Ariosoma;Ariosoma balearicum</td>
      <td>True</td>
      <td>Ariosoma balearicum (Delaroche, 1809)</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2403180</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Ariosoma</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Ariosoma;Ariosoma balearicum</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Ariosoma;Ariosoma balearicum</td>
      <td>False</td>
      <td>Ariosoma balearicum (Delaroche, 1809)</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2403180</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Ariosoma</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Paraconger;Paraconger caudilimbatus</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Paraconger;Paraconger caudilimbatus</td>
      <td>True</td>
      <td>Paraconger caudilimbatus (Poey, 1867)</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2403400</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Paraconger</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Paraconger;Paraconger caudilimbatus</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Paraconger;Paraconger caudilimbatus</td>
      <td>False</td>
      <td>Paraconger caudilimbatus (Poey, 1867)</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2403400</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Paraconger</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Rhynchoconger;Rhynchoconger flavus</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Rhynchoconger;Rhynchoconger flavus</td>
      <td>True</td>
      <td>Rhynchoconger flavus (Goode & Bean, 1896)</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2403429</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Rhynchoconger</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Uroconger;Uroconger syringinus</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Uroconger;Uroconger syringinus</td>
      <td>True</td>
      <td>Uroconger syringinus Ginsburg, 1954</td>
      <td>100</td>
      <td>species</td>
      <td>gbif:2403259</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Uroconger</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Uroconger;Uroconger syringinus</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Uroconger;Uroconger syringinus</td>
      <td>False</td>
      <td>Uroconger syringinus Ginsburg, 1954</td>
      <td>99</td>
      <td>species</td>
      <td>gbif:2403259</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Uroconger</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Xenomystax</td>
      <td>Eukaryota;Chordata;Actinopteri;Anguilliformes;Congridae;Xenomystax</td>
      <td>True</td>
      <td>Xenomystax Gilbert, 1891</td>
      <td>97</td>
      <td>genus</td>
      <td>gbif:2403464</td>
      <td>Animalia</td>
      <td>Chordata</td>
      <td>NaN</td>
      <td>Anguilliformes</td>
      <td>Congridae</td>
      <td>Xenomystax</td>
      <td>GBIF_EXACT</td>
      <td>GBIF</td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<p>🗑️ Deleted intermediate file: processed-v3/occurrence.csv</p>
<h2>Creating DNA Derived Extension</h2>
<p>Building DNA derived extension from occurrence core (one row per occurrence)...</p>
<p>Using 'taxonID' field (GBIF workflow)</p>
<p>Starting with 912 occurrence records.</p>
<p>✓ Brought forward 25 pass-through field(s) from occurrence core.</p>
<p>Shape after all merges: (912, 31)</p>
<h3>Merging Sample and Experiment Metadata</h3>
<p>eventID/lib_id diagnostics: DNA rows=912, unique eventID=42, unique lib_id=42, overlaps=42</p>
<p>ERM merge: matched rows=912 / 912</p>
<p>samp_name diagnostics: unique samp_name(after ERM)=21, unique samp_name(sampleMetadata)=21, overlaps=21</p>
<p>SampleMetadata merge: used column 'samp_name_from_erm', matched rows (by key)=912 / 912</p>
<h4>Post-merge coverage for key sampleMetadata fields:</h4><ul><li>materialSampleID: 100.0% filled</li><li>depth_category: 100.0% filled</li><li>decimalLatitude: 100.0% filled</li><li>decimalLongitude: 100.0% filled</li><li>temp: 100.0% filled</li><li>salinity: 100.0% filled</li><li>samp_vol_we_dna_ext: 0.0% filled</li><li>concentration: 0.0% filled</li><li>concentration_unit: 0.0% filled</li></ul>
<p>✓ Merged with experimentRunMetadata and sampleMetadata.</p>
<p>Aliased fields: sampleMetadata=12, experimentRunMetadata=1</p>
<p>Applying specific unit logic...</p>
<p>✓ Ensured 'size_fracUnit' present (default 'micrometer' if missing).</p>
<p>✓ Populated 'concentrationUnit' from source 'concentration_unit' column.</p>
<p>✓ Populated 'samp_vol_we_dna_extUnit' from source 'samp_vol_we_dna_ext_unit' column.</p>
<p>Combining specified value and unit fields...</p>
<div class="alert alert-success">Combined 'size_frac' and 'size_fracUnit'.</div>
<div class="alert alert-success">Combined 'samp_vol_we_dna_ext' and 'samp_vol_we_dna_extUnit'.</div>
<div class="alert alert-success">Combined 'samp_size' and 'samp_size_unit'.</div>
<p>Dropped combined unit columns: ['size_fracUnit', 'samp_vol_we_dna_extUnit', 'samp_size_unit']</p>
<p>Processing project and analysis metadata fields...</p>
<p>✓ Populated 'target_gene' from projectMetadata (faire_term: 'target_gene')</p>
<p>✓ Populated 'target_subfragment' from projectMetadata (faire_term: 'target_subfragment')</p>
<p>✓ Populated 'ampliconSize' from projectMetadata (faire_term: 'ampliconSize')</p>
<p>✓ Populated 'pcr_primer_forward' from projectMetadata (faire_term: 'pcr_primer_forward')</p>
<p>✓ Populated 'pcr_primer_reverse' from projectMetadata (faire_term: 'pcr_primer_reverse')</p>
<p>✓ Populated 'pcr_primer_name_forward' from projectMetadata (faire_term: 'pcr_primer_name_forward')</p>
<p>✓ Populated 'pcr_primer_name_reverse' from projectMetadata (faire_term: 'pcr_primer_name_reverse')</p>
<p>✓ Populated 'nucl_acid_amp' from projectMetadata (faire_term: 'nucl_acid_amp')</p>
<p>✓ Populated 'pcr_cond' from projectMetadata (faire_term: 'pcr_cond')</p>
<p>✓ Populated 'seq_meth' from projectMetadata (faire_term: 'instrument')</p>
<p>✓ Populated 'lib_layout' from projectMetadata (faire_term: 'lib_layout')</p>
<p>✓ Populated 'otu_class_appr' from analysisMetadata (faire_term: 'otu_clust_tool')</p>
<p>✓ Populated 'otu_db' from analysisMetadata (faire_term: 'otu_db')</p>
<p>✓ Populated 'otu_seq_comp_appr' from analysisMetadata (faire_term: 'otu_seq_comp_appr')</p>
<p>Constructing 'pcr_primer_reference' field...</p>
<p>Applying Darwin Core mappings...</p>
<p>Final DNA derived extension shape: (912, 31)</p>
<h4>DNA Derived Extension Preview</h4><p><strong>Shape:</strong> 912 rows × 31 columns</p><p><em>Showing first 10 rows of 912 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>occurrenceID</th>
      <th>eventID</th>
      <th>samp_name</th>
      <th>env_broad_scale</th>
      <th>env_local_scale</th>
      <th>env_medium</th>
      <th>samp_collect_device</th>
      <th>samp_mat_process</th>
      <th>size_frac</th>
      <th>samp_size</th>
      <th>samp_vol_we_dna_ext</th>
      <th>nucl_acid_ext</th>
      <th>concentration</th>
      <th>concentrationUnit</th>
      <th>target_gene</th>
      <th>target_subfragment</th>
      <th>ampliconSize</th>
      <th>pcr_primer_forward</th>
      <th>pcr_primer_reverse</th>
      <th>pcr_primer_name_forward</th>
      <th>pcr_primer_name_reverse</th>
      <th>pcr_primer_reference</th>
      <th>nucl_acid_amp</th>
      <th>pcr_cond</th>
      <th>seq_meth</th>
      <th>lib_layout</th>
      <th>DNA_sequence</th>
      <th>otu_class_appr</th>
      <th>otu_db</th>
      <th>otu_seq_comp_appr</th>
      <th>source_mat_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGAGAGGCCTAAGTTGACAGACAACGGCGTAAAGAGTGGTTAAGGAAAAATTTATACTAAAGCCGAACATCCTCAAGACTGTCGTACGTTTCCGAGGATATGAAGTCCCCCTACGAAAGTGGCTTTAACTCCCCTGACCCCACGAAAGCTGTGAC</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>1</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_183bc18f3e5eac45c6dd248fb86d64bf</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGATGAAGCCCAAGTTGTTAGCCTTCGGCGTAAAGAGTGGTTAGAGTACCCCAACAAAACTAAGGCCGAACACCTTCAGGGCAGTCATACGCTTTCGAAGGCATGAAGCACACCAACGAAAGTAGCCTTACCAGACTTGAACCCACGAAAGCTAAGAT</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>2</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_3c64823f9fe1b8e3dee560e7bb3b193c</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGAGAGACCCTAGTTGTTAGACACCGGCGTAAAGAGTGGTTAAGAAAAACGTTACACTAAAGCCGAACGCTTATCAGAGCTGTTATACGCATCCGAAAGTAAGAAGTTCAATCACGAAAGTGGCTTTATATACTCTGACCCCACGAAAGCTACGAC</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>3</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_781e1d0cf581569ca761dfb81438b698</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTCATACGAGTGTTAGCCCAAGCGGATGACTAACGGCGTAAAGAGTGGTTAGGGAACCCCCCCCACAACTAAAGTTAAACACCCACAAGGCCGTGATACGCATCCGATGGAATGAAACCCCACCACGAAAGTGACTTTACCCAGCCCGAACCCACGATAGCTAAGAT</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_87fc62ed809caa00b26b8cbf9255c7ac</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGAGAGGCCCAAGTTGATAGACACCGGCGTAAAGGGTGGTTAAGATATTCTAAAACTAAAGCCGAATACCTTCAAAGCCGTTATACGTACTCGAAGGTAAGAAGCCCAACTACGAAAGTGGCTTTACATATTCTGACCCCACGAAAGCTATGAC</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_8f9c2606f5bb5a4867a22ec20c3f7067</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTGATACGAGAGGCCCGAGCTAACAGCCCCCGGCGTAAAGCGTGGTTAGGGTAAGTCAAAACTAAAGCCGAACGCCCCTAGGGCCGTGATACGCGTATAAAGGTATGAAGTCCCACCACGAAAGTGGCTTTAATACTTCCTGACCCCACGAAAGCTAAGAT</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>6</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_94c9549b503d074ca52d17868303bb47</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGAGAGGCTCAAGTTGATAGACAGCGGCGTAAAGAGTGGTTAGGGAATTATTTAAACTAAAGTCGAACGCTTCCAGAGCTGTTATACGCACCCGAAAACATGAAGCCCAACTACGAAAGTGACTTTAAAACACCTGAACCCACGAAAGCTAGGGA</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>7</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_99d918d2b66a9418e50eeed3572f4f47</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CGCCGCGGTTATACGAGAGGCCCAAGTTGATAGTCAACGGCGTAAAGAGTGGTTAGGAGACAAGATAAAACTAAAGCCGAACGTCCTCAGGGCTGTTATACGCCTCCGAAAGAACGAAGATCAATCACGAAAGTGGCTTTACCATTCTGAGTCCACGAAAGCTAAGAA</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>8</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_bde24d05f796db0138c4320a0164cb16</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>AGCCGCGGTAATACGTAGGGAGCGAGCGTTACCCGGAATTACTGGGCGTAAAGAGCACGTAGGCGGTTGGATAAGTCTTCTGTGAAAGCTCCCGGCTCAACTGGGAGAGGTCAGGGGATACTATTCGACTTGAGGGCTGTAGAGGTAAGCGGAATTCCCGGTGTAGCGGTGAAATGCGTAGATATCGGGAGGAACACCAGCGGCGAAAGCGGCTTACTGGGCAGTGCCTGACGCTGAGGTGCGAGAGCGTGGGGA</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
    <tr>
      <th>9</th>
      <td>GU190706-CTD11-220_MiFish_S30_occ_ca6706a7649bd835555774cc496b645e</td>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220</td>
      <td>marine biome [ENVO:00000447]</td>
      <td>marine mesopelagic zone [ENVO:00000213]</td>
      <td>sea water [ENVO:00002149]</td>
      <td>Niskin bottle</td>
      <td>Samples were vacuum-filtered through a MilliporeSigma 47 mm diameter mixed cellulose ester (MCE) filter with a 0.45 µm pore size in a disposable 250 mL filter cup (MilliporeSigma EZ-Fit Filtration Unit) using an EZ-Fit 1-place manifold and EZ-Stream vacuum pump (MilliporeSigma).</td>
      <td>0.45 micrometer</td>
      <td>2 <NA></td>
      <td>2 mL</td>
      <td>https://doi.org/10.1002/edn3.70074</td>
      <td>1.57</td>
      <td>ng/µl</td>
      <td>12S rRNA (SSU mitochondria)</td>
      <td>V5-V6</td>
      <td>175</td>
      <td>GTCGGTAAAACTCGTGCCAGC</td>
      <td>CATAGTGGGGTATCTAATCCCAGTTTGT</td>
      <td>MiFish-U-F</td>
      <td>MiFish-U-R2</td>
      <td>https://doi.org/10.1098/rsos.150088|https://doi.org/10.1098/rsos.150088 | https://doi.org/10.1093/icesjms/fsab273</td>
      <td>https://doi.org/10.22541/au.175571300.02915570/v1</td>
      <td>initial denaturation:98_30s; 40 cycles of denaturation: 98_20s, annealing:60_20s, elongation:72_20s; final elongation:72_5min</td>
      <td>Illumina MiSeq [OBI_0002003]</td>
      <td>paired end</td>
      <td>CACCGCGGTTATACGAGAGACTCAAATTGATATTCTCCGGCGTAAAGCGTGATTAGAGAAAAAACAAACTAAAGCCGAATACCCCCTAAGCTGTCATACGCTAATGGGGGCACGAAGCCCCACAACGAAAGTGGCCTTAAAGATCTTGAATTCACGACTATTAAGAA</td>
      <td>qiime2-2023.5; DADA2 1.26.0</td>
      <td>custom</td>
      <td>qiime2-2023.5; naive-bayes classifier; scikit-learn 0.24.1</td>
      <td>GU190706-CTD11-220</td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<p>Saving DNA derived extension to CSV...</p>
<div class="alert alert-success">DNA derived extension created successfully</div>
<p>Saved DNA derived extension: 912 records</p>
<p>Output file: dna_derived_extension.csv</p>
<p>File size: 1.07 MB</p>
<h2>Creating eMoF (extendedMeasurementOrFact)</h2>
<p>Loaded template with 31 configured measurement row(s)</p>
<p>Total occurrences included (non-control): 912</p>
<div class="alert alert-success">eMoF created successfully with 28272 row(s) (occurrence-based)</div>
<p>Saved eMoF CSV to: processed-v3/eMoF.csv</p>
<p>File size: 28272 rows (one per occurrence per measurement)</p>
<h4>eMoF Preview (first 15 rows)</h4><p><strong>Shape:</strong> 15 rows × 10 columns</p><p><em>Showing first 10 rows of 15 total rows</em></p><div class="table-container"><table border="1" class="dataframe table table-striped">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>eventID</th>
      <th>occurrenceID</th>
      <th>verbatimMeasurementType</th>
      <th>measurementType</th>
      <th>measurementValue</th>
      <th>measurementUnit</th>
      <th>measurementTypeID</th>
      <th>measurementValueID</th>
      <th>measurementUnitID</th>
      <th>measurementRemarks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>filter_passive_active_0_1</td>
      <td>Active or passive filtration approach</td>
      <td>1</td>
      <td></td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td></td>
      <td>Boolean: Whether water samples were collected using active (1) or passive (0) filtration approach.</td>
    </tr>
    <tr>
      <th>1</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>ctd_bottle_number</td>
      <td>CTD bottle number</td>
      <td>CTD11</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>chlorophyll</td>
      <td>Chlorophyll fluorescence</td>
      <td>0.038</td>
      <td>micrograms per litre</td>
      <td>http://vocab.nerc.ac.uk/collection/P01/current/CPHLMOD2/</td>
      <td></td>
      <td>http://vocab.nerc.ac.uk/collection/P06/current/UGPL/</td>
      <td>Collected by WetLabs WetStar Fluorometer</td>
    </tr>
    <tr>
      <th>3</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>filter_name</td>
      <td>Commercial names and brand of filter</td>
      <td>MilliporeSigma</td>
      <td></td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>dna_cleanup_0_1</td>
      <td>DNA cleanup</td>
      <td>1</td>
      <td></td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td></td>
      <td>Boolean: Was the extracted DNA cleaned/purified? Yes = 1, No =0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>dna_cleanup_method</td>
      <td>DNA cleanup method</td>
      <td>Zymo OneStep PCR Inhibitor Removal kit</td>
      <td></td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>concentration_method</td>
      <td>DNA concentration method</td>
      <td>Qubit 4 Fluorometer (Thermo Fisher Scientific)</td>
      <td></td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>date_ext</td>
      <td>Date of nucleic acid extraction</td>
      <td>2019-10-28 00:00:00</td>
      <td>ISO 8601</td>
      <td>https://github.com/FAIR-eDNA/FAIRe_checklist</td>
      <td></td>
      <td>https://vocab.nerc.ac.uk/collection/P06/current/TISO/</td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>density</td>
      <td>Density of the water column</td>
      <td>1027.6571</td>
      <td>kilograms per cubic metre</td>
      <td>http://vocab.nerc.ac.uk/collection/P01/current/TOKGPR02/</td>
      <td></td>
      <td>http://vocab.nerc.ac.uk/collection/P06/current/UKMC/</td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>GU190706-CTD11-220_MiFish_S30</td>
      <td>GU190706-CTD11-220_MiFish_S30_occ_18109634cc2f8e156e5402bf13cf4502</td>
      <td>depth_category</td>
      <td>Depth category of sample collection</td>
      <td>Bottom</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table></div><p><small><em>💡 Tip: Scroll horizontally if table extends beyond view</em></small></p>
<p>eMoF saved to: processed-v3/eMoF.csv</p>
<h2>Creating EML (Ecological Metadata Language) File</h2>
<p>Loading EML configuration from: EML_config.yaml</p>
<div class="alert alert-warning"><strong>WARNING:</strong> EML Recommendations - Consider adding these fields for better metadata quality:</div>
<div class="alert alert-warning"><strong>WARNING:</strong> • Temporal coverage helps users understand when data was collected</div>
<p>  💡 Add temporal_coverage -> begin_date and end_date (YYYY-MM-DD format)</p>
<div class="alert alert-warning"><strong>WARNING:</strong> Template placeholders detected - please customize:</div>
<div class="alert alert-warning"><strong>WARNING:</strong> • Title contains placeholder text [LOCATION] or [TIMEFRAME] - please update with specific information</div>
<div class="alert alert-warning"><strong>WARNING:</strong> • Abstract appears to contain template text - please customize with your specific dataset description</div>
<div class="alert alert-warning"><strong>WARNING:</strong> • Contact email appears to be template text - please update with actual email address</div>
<p><h4>EML Best Practices:</h4></p>
<ul><li>Use descriptive titles that include taxonomic, geographic, and temporal scope</li><li>Provide detailed abstracts that help users assess fitness-for-use</li><li>Include complete contact information for data inquiries</li><li>Add relevant keywords to improve discoverability</li><li>Document sampling methods similar to a journal article methods section</li><li>Use CC0 license when possible for maximum data reusability</li></ul>
<p>Using occurrence data from file: processed-v3/occurrence_core_gbif.csv</p>
<div class="alert alert-success">Set EML dataset title from projectMetadata.project_name</div>
<p>Attempting to auto-populate EML coverage fields from data...</p>
<div class="alert alert-success">Calculated geographic bounding coordinates.</div>
<div class="alert alert-success">Populated geographic description from configured source field(s).</div>
<div class="alert alert-success">Calculated temporal coverage dates from data.</div>
<p>Note: Truncated order list to 10 unique values for EML brevity.</p>
<div class="alert alert-success">Populated taxonomic coverage with 10 classifications across ranks: kingdom=2, phylum=1, class=1, order=6</div>
<p>Note: Reached total cap of 10 taxonomic classifications.</p>
<div class="alert alert-success">Populated EML project title with: noaa-sefsc-gu1901</div>
<p>Building EML XML structure...</p>
<p>EML sections to be included:</p>
<ul><li>Creator information</li><li>Contact information</li><li>Geographic coverage</li><li>Temporal coverage</li><li>Taxonomic coverage</li><li>Keywords (4 terms)</li><li>Methods and sampling</li><li>Project information</li></ul>
<div class="alert alert-success">EML file successfully created: processed-v3/eml.xml</div>
<p>📦 Package ID: 27533347-870f-415b-8f08-3a0e06d7b56e/eml-1.xml</p>
<p>📏 File size: 7.1 KB</p>
<p>🏗️ XML structure: 110 total elements</p>
<div class="alert alert-success">✅ EML XML validation passed - file is well-formed and ready for OBIS/GBIF submission</div>
<p><h4>Next Steps for OBIS/GBIF Submission:</h4></p>
<ul><li>Review the generated EML file to ensure all information is accurate</li><li>Upload the EML file along with your Darwin Core data files to IPT</li><li>Or submit directly to your OBIS node manager for review</li><li>The EML file conforms to GBIF Metadata Profile v1.1 standards</li></ul>
<p>EML saved to: processed-v3/eml.xml</p>
<h3>Final File Validation</h3>
<div class="alert alert-warning"><strong>WARNING:</strong> In output file <strong>'occurrence_core_gbif.csv'</strong>, the column <strong>'bibliographicCitation'</strong> was found to be completely empty.</div>
<div class="alert alert-warning"><strong>WARNING:</strong> In output file <strong>'occurrence_core_gbif.csv'</strong>, the column <strong>'locationID'</strong> was found to be completely empty.</div>
<h4><h4>Summary of All Empty Columns Found:</h4></h4><ul><li>File: <code>occurrence_core_gbif.csv</code>, Column: <code>bibliographicCitation</code></li><li>File: <code>occurrence_core_gbif.csv</code>, Column: <code>locationID</code></li></ul>
<h2>Process Completion</h2>
<div class="alert alert-success">All steps completed successfully!</div>
<p>Files generated:</p>
<p>✓ occurrence_core_gbif.csv (0.79 MB)</p>
<p>✓ taxa_assignment_INFO_GBIF.csv (0.07 MB)</p>
<p>✓ dna_derived_extension.csv (1.07 MB)</p>
<p>✓ eMoF.csv (6.60 MB)</p>
<p>✓ eml.xml (0.01 MB)</p>
<p>✓ config_Whale_Prey_Taxa_Testing_20251015.yaml (0.01 MB)</p>
<p>✓ edna2obis_report_GBIF_Whale_Prey_Taxa_Testing_20251015.html (0.10 MB)</p>

    </div>
</body>
</html>
